# Complex: Very Large Diagram
# Tests handling of large, complex diagrams

┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                   ENTERPRISE SYSTEM ARCHITECTURE                           │
│                                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────────────────────┐     │
│  │                              PRESENTATION LAYER                                  │     │
│  │                                                                                   │     │
│  │    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐            │     │
│  │    │   Web Portal    │    │   Mobile App    │    │   Admin Panel   │            │     │
│  │    │                 │    │                 │    │                 │            │     │
│  │    │ - React SPA     │    │ - React Native  │    │ - Vue.js Admin  │            │     │
│  │    │ - Responsive    │    │ - iOS/Android   │    │ - Dashboard     │            │     │
│  │    └─────────────────┘    └─────────────────┘    └─────────────────┘            │     │
│  │                                                                                   │     │
│  └─────────────────────────────────────────────────────────────────────────────────────┘     │
│                                             │                                               │
│                                             ▼                                               │
│  ┌─────────────────────────────────────────────────────────────────────────────────────┐     │
│  │                               API GATEWAY LAYER                                  │     │
│  │                                                                                   │     │
│  │    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐            │     │
│  │    │   Kong Gateway  │    │   Auth Service  │    │   Rate Limiter  │            │     │
│  │    │                 │    │                 │    │                 │            │     │
│  │    │ - API Routing   │    │ - JWT/OAuth     │    │ - Throttling    │            │     │
│  │    │ - Load Balance  │    │ - User Mgmt     │    │ - Monitoring    │            │     │
│  │    └─────────────────┘    └─────────────────┘    └─────────────────┘            │     │
│  │                                                                                   │     │
│  └─────────────────────────────────────────────────────────────────────────────────────┘     │
│                                             │                                               │
│                                             ▼                                               │
│  ┌─────────────────────────────────────────────────────────────────────────────────────┐     │
│  │                             MICROSERVICES LAYER                                 │     │
│  │                                                                                   │     │
│  │    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐            │     │
│  │    │  User Service   │    │ Product Service │    │  Order Service  │            │     │
│  │    │                 │    │                 │    │                 │            │     │
│  │    │ - Profile Mgmt  │    │ - Catalog       │    │ - Cart/Checkout │            │     │
│  │    │ - Authentication│    │ - Search        │    │ - Payment       │            │     │
│  │    └─────────────────┘    └─────────────────┘    └─────────────────┘            │     │
│  │                                                                                   │     │
│  │    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐            │     │
│  │    │ Payment Service │    │ Shipping Svc    │    │ Notification   │            │     │
│  │    │                 │    │                 │    │                 │            │     │
│  │    │ - Stripe        │    │ - FedEx/UPS     │    │ - Email/SMS     │            │     │
│  │    │ - Refunds       │    │ - Tracking      │    │ - Templates     │            │     │
│  │    └─────────────────┘    └─────────────────┘    └─────────────────┘            │     │
│  │                                                                                   │     │
│  └─────────────────────────────────────────────────────────────────────────────────────┘     │
│                                             │                                               │
│                                             ▼                                               │
│  ┌─────────────────────────────────────────────────────────────────────────────────────┐     │
│  │                                DATA LAYER                                        │     │
│  │                                                                                   │     │
│  │    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐            │     │
│  │    │  PostgreSQL     │    │    Redis        │    │   Elasticsearch │            │     │
│  │    │                 │    │                 │    │                 │            │     │
│  │    │ - User Data     │    │ - Sessions      │    │ - Search Index  │            │     │
│  │    │ - Transactions  │    │ - Cache         │    │ - Analytics     │            │     │
│  │    └─────────────────┘    └─────────────────┘    └─────────────────┘            │     │
│  │                                                                                   │     │
│  └─────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

# Connection lines for the large diagram
Presentation ──▶ API Gateway ──▶ Microservices ──▶ Data Layer
    │                │                │                │
    │                │                │                │
    ▼                ▼                ▼                ▼
   "HTTP"          "REST"           "gRPC"          "SQL"